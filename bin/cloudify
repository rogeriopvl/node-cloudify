#!/usr/bin/env node

if (process.argv.length < 3){
    showHelp();
    process.exit(-1);
}

var cmd = process.argv[2];

if (cmd === '--help' || cmd === '-h') {
    showHelp();
} else if (cmd === '--version' || cmd === '-v') {
    //showVersion();
} else {
    var fs = require('fs');

    if (fs.existsSync(cmd) && !fs.lstatSync(cmd).isDirectory()){
        var config = require('../lib/config.js'),
            cloudify = require('../lib/cloudify.js')(config, cmd);
        cloudify();
    } else {
        console.log('File does not exists or is a directory');
    }
}

function showHelp() {
    console.log('Usage: cloudify <file_path>');
};

function showVersion() {
    console.log('Cloudify Version: ' + config.version);
};
